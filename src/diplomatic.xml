<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="../../sample/odd4odds.rnc" type="application/relax-ng-compact-syntax"?>
<?xml-model href="../../sample/odd4odds.isosch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<TEI xml:lang="en" xmlns="http://www.tei-c.org/ns/1.0" xmlns:rng="http://relaxng.org/ns/structure/1.0" >
  <teiHeader>
    <fileDesc>
      <titleStmt>
        <title>LombardPress Customization File</title>
        <author xml:id="JeffreyWitt">Jeffrey C. Witt</author>
        <author xml:id="MichaelChristensen">Michael Stenskj√¶r Christensen</author>
        <author xml:id="NicolasVaughan">Nicolas Vaughan</author>
      </titleStmt>
      <publicationStmt>
        <availability>
          <p>[Statement of availability]</p>
        </availability>
      </publicationStmt>
      <sourceDesc>
        <p>Born Digital</p>
      </sourceDesc>
    </fileDesc>
    <revisionDesc status="draft">
      <change who="#JW" when="2012-05-08" n="0.0.0-dev"></change>
    </revisionDesc>
  </teiHeader>
  <text>
    <body>
      <p>[One or more paragraphs describing the customization.]</p>
      <!-- The <schemaSpec> element is in effect the root element for
           the schema specification portion of the ODD.
              - @ident is required; it is allowed to be any name.
              - @start says what element(s) are allowed as the root element
                  of documents conforming to this schema.  -->

      <schemaSpec ident="lombardpress-schema" start="TEI"
          source="http://www.tei-c.org/Vault/P5/3.1.0/xml/tei/odd/p5subset.xml">
        
        <!-- Core Module -->
        <moduleRef key="core"/>


        <!-- Begin modifications to del element -->
        <elementSpec ident="del" module="core" mode="change">
          <attList>
            <attDef ident="rend" usage="rec" mode="change">
              <valList type="semi" mode="add">
                <valItem ident="strikethrough">
                  <gloss>strikethrough</gloss>
                  <desc>A deletion indicated by a line through the center of the text</desc>
                </valItem>
                <valItem ident="expunctuated">
                  <gloss>expunctuated</gloss>
                  <desc>A deletion indicated by dots underneath the text.</desc>
                </valItem>
                <valItem ident="expunctuation">
                  <gloss>expunctuated</gloss>
                  <desc>Alias of expunctuated: A deletion indicated by dots underneath the text</desc>
                </valItem>
                <valItem ident="blackout">
                  <gloss>blacked out</gloss>
                  <desc>A deletion indicated by blacking out the word or segment</desc>
                </valItem>
                <valItem ident="underline">
                  <gloss>underline</gloss>
                  <desc>A deletion indicated by underling the word or segment</desc>
                </valItem>
                <valItem ident="erasure">
                  <gloss>erasure</gloss>
                  <desc>Deletion by erasure</desc>
                </valItem>
              </valList>
            </attDef>
          </attList>
        </elementSpec>
        <!-- end del element -->

        <!-- begin add element -->
        <elementSpec ident="add" module="core" mode="change">
          <attList>
            <attDef ident="place" usage="rec" mode="change">
              <valList type="semi" mode="add">
                <valItem ident="margin">
                  <gloss>margin</gloss>
                  <desc>A generic place locator for an addition appearing in some margin</desc>
                </valItem>
                <valItem ident="margin-right">
                  <gloss>margin-right</gloss>
                  <desc>Indicates an addition in the margin to the right of the text in question</desc>
                </valItem>
                <valItem ident="margin-left">
                  <gloss>margin-left</gloss>
                  <desc>Indicates an addition in the margin to the left of the text in question</desc>
                </valItem>
                <valItem ident="margin-above">
                  <gloss>margin-above</gloss>
                  <desc>Indicates an addition in the margin to the above of the text in question</desc>
                </valItem>
                <valItem ident="margin-below">
                  <gloss>margin-below</gloss>
                  <desc>Indicates an addition in the margin to the below of the text in question</desc>
                </valItem>
                <valItem ident="above-line">
                  <gloss>above-line</gloss>
                  <desc>Indicates an addition inserted above the line in question</desc>
                </valItem>
                <valItem ident="below-line">
                  <gloss>below-line</gloss>
                  <desc>Indicates an addition inserted below the line in question</desc>
                </valItem>
                <valItem ident="in-line">
                  <gloss>in-line</gloss>
                  <desc>Indicates an addition inserted in the line</desc>
                </valItem>
              </valList>
            </attDef>
          </attList>
        </elementSpec>
        <!-- end add element -->


        <elementSpec ident="note" module="core" mode="change">
          <classes mode="change">
            <memberOf key="att.placement"/>
          </classes>
          <attList>
            <attDef ident="type" mode="change" usage="rec">
              <datatype>
                <rng:ref name="data.enumerated"/>
              </datatype>
              <constraintSpec ident="note-place-noplace" scheme="isoschematron">
                <desc>These constraints are used to require a place attribute when a when marginal attribute is used and to forbid a place attribute when an editorial note is used. The reasoning is that an editorial note is an intervention and a new creation, therefore there is no pre-existing place or location that it can be found. A marginal note is just the opposite, it has a physical place is a primary source witness, therefore that place needs to be recorded with a place attribute.</desc>
                 <constraint>
                  <rule xmlns="http://purl.oclc.org/dsdl/schematron" context="tei:note[@type='marginal-note']">
                    <report test="not(./@place)">This is a marginal note. This means that it is a note that exist in the primary source. Therefore it has a physical location that needs to be recorded.</report>
                  </rule>
                </constraint>
              </constraintSpec>
              <valList type="semi" mode="change">
                <valItem ident="marginal-note">
                  <gloss>Marginal Note</gloss>
                  <desc>A note present in the manuscript witness itself, but clear meant as annotation to the actual text. This note may either be in the same hand as the text or supplied by a latter reader.</desc>
                </valItem>
              </valList>
            </attDef>
            <!--<attDef ident="hand" mode="add" usage="opt">
              <gloss>hand</gloss>
              <desc>hand responsible for marginal note</desc>
              <datatype>
                <rng:ref name="data.text"/>
              </datatype>
            </attDef>-->

          </attList>
        </elementSpec>
        

        <moduleRef key="tei"/>

        <!-- header module -->
        <moduleRef key="header"/>


        <!--
          <elementSpec ident="category" module="header" mode="change">
          <attList>
            <attDef ident="xml:id" usage="req" mode="change"/>
          </attList>
        </elementSpec>
        -->

        <!-- text structure module -->
        <moduleRef key="textstructure"/>

        <!-- optional modules -->

        <!-- linking module -->
        <moduleRef key="linking"/>

        <!-- Name and Date Module -->
        <moduleRef key="namesdates"/>

        <!-- Text Criticism Module -->
        <moduleRef key="textcrit"/>

        <!-- Primary Source Transcription Module -->
        <moduleRef key="transcr"/>

        <!-- Ms Description Module -->
        <!-- not sure what elements need here; but I will probably need a lot more elements for the official bibliography of the mansucriopt witnesses -->
        <moduleRef key="msdescription"/>

        <!-- Character and Glyph Documentat Module -->
        <!-- may not be necessary once <pc> element replaces glyps -->
        <moduleRef key="gaiji"/>

        <!-- analysis module -->
        <moduleRef key="analysis"/>

<!-- attribute class modifications -->

        <classSpec ident="att.placement" type="atts" mode="change">
          <attList>
            <attDef ident="place" mode="change" usage="rec">
              <datatype>
                <rng:ref name="data.enumerated"/>
              </datatype>
              <valList type="semi" mode="replace">
                <valItem ident="above-line">
                  <gloss>Above Line</gloss>
                  <desc>Inter-linearly, above the line in which it is being inserted</desc>
                </valItem>
                <valItem ident="margin-left">
                  <gloss>Left Margin</gloss>
                  <desc>In the left margin of the page</desc>
                </valItem>
                <valItem ident="margin-right">
                  <gloss>Right Margin</gloss>
                  <desc>In the right margin of the page</desc>
                </valItem>
                <valItem ident="margin-bottom">
                  <gloss>Bottom Margin</gloss>
                  <desc>In the bottom margin of the page</desc>
                </valItem>
                <valItem ident="margin-top">
                  <gloss>Top Margin</gloss>
                  <desc>In the top margin of the page</desc>
                </valItem>
                <valItem ident="in-line">
                  <gloss>In line</gloss>
                  <desc>the addition is made in the line itself</desc>
                </valItem>
                <!-- TODO: do we need to support this -->
                <valItem ident="in-space">
                  <gloss>In space</gloss>
                  <desc>In a predefined space left for an addition, perhaps a space left by another scribe.</desc>
                </valItem>
              </valList>
            </attDef>
          </attList>
        </classSpec>


      </schemaSpec>
    </body>
  </text>
</TEI>
